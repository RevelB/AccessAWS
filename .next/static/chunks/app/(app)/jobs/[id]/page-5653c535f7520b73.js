(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[770],{2286:function(e,t,i){Promise.resolve().then(i.bind(i,4238))},3639:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});let n=(0,i(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4238:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var n=i(7437),r=i(2265),s=i(9376),a=i(3002),l=i(9820),o=i(5863),c=i(3639),d=i(4267),u=i(1245);function m(){let e=(0,s.useParams)(),t=(0,s.useSearchParams)(),[i,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(!0),[v,p]=(0,r.useState)(null),{user:x}=(0,u.a)(),j=(0,r.useMemo)(()=>"true"===t.get("view"),[t]);return((0,r.useEffect)(()=>{x&&(async()=>{f(!0),p(null);try{let{data:o}=await d.L.models.Job.get({id:e.id});if(o){var t,i,n,r,s,a,l;let e={id:o.id,clockNumberMediaName:o.clockNumberMediaName||"",orderNumber:o.orderNumber||"",services:o.services?JSON.parse(o.services):[],client:o.client||"",agency:o.agency||"",deliveryDate:o.deliveryDate||"",poReference:o.poReference||"",destination:o.destination||"",productionNotes:o.productionNotes||"",creator:o.creator||"",checker:o.checker||"",commercialDescription:o.commercialDescription||"",status:o.status,priority:null!==(t=o.priority)&&void 0!==t&&t,onHold:null!==(i=o.onHold)&&void 0!==i&&i,inSAP:null!==(n=o.inSAP)&&void 0!==n&&n,stellarTask:null!==(r=o.stellarTask)&&void 0!==r&&r,rate:null!==(s=o.rate)&&void 0!==s?s:void 0,adjusted:null!==(a=o.adjusted)&&void 0!==a?a:void 0,inputter:o.inputter||"",verifier:o.verifier||"",extcosts:null!==(l=o.extcosts)&&void 0!==l?l:void 0,billingnotes:o.billingnotes||"",createdAt:o.createdAt||new Date().toISOString(),updatedAt:o.updatedAt||new Date().toISOString()};m(e)}else p('The job with ID "'.concat(e.id,'" could not be found.'))}catch(e){console.error("Error fetching job:",e),p("Failed to fetch job data. You may not have permission to view this document.")}finally{f(!1)}})()},[e.id,x]),h)?(0,n.jsxs)("div",{className:"flex h-64 w-full items-center justify-center",children:[(0,n.jsx)(o.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,n.jsx)("span",{className:"ml-2",children:"Loading job details..."})]}):v||!i?(0,n.jsx)("div",{className:"container mx-auto flex flex-col items-center",children:(0,n.jsxs)(l.Zb,{className:"w-full max-w-md",children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)(l.ll,{className:"flex items-center text-destructive",children:[(0,n.jsx)(c.Z,{className:"mr-2 h-6 w-6"})," Job Not Found"]})}),(0,n.jsxs)(l.aY,{children:[(0,n.jsx)("p",{children:v||'The job with ID "'.concat(e.id,'" could not be found.')}),(0,n.jsx)("p",{children:"It might have been deleted or the ID is incorrect."})]})]})}):(0,n.jsx)("div",{className:"container mx-auto",children:(0,n.jsx)(a.E,{mode:"edit",initialData:i,viewOnly:j})})}}},function(e){e.O(0,[868,969,748,449,105,233,847,371,18,849,2,971,117,744],function(){return e(e.s=2286)}),_N_E=e.O()}]);