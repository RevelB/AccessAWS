(()=>{var e={};e.id=818,e.ids=[818],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},9216:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(7427),a(5215),a(5866),a(6200);var r=a(3191),s=a(8716),l=a(7922),i=a.n(l),n=a(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["(app)",{children:["reporting",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7427)),"C:\\Users\\micha\\Desktop\\DevEnv\\AccessAWS\\src\\app\\(app)\\reporting\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5215)),"C:\\Users\\micha\\Desktop\\DevEnv\\AccessAWS\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,6200)),"C:\\Users\\micha\\Desktop\\DevEnv\\AccessAWS\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\micha\\Desktop\\DevEnv\\AccessAWS\\src\\app\\(app)\\reporting\\page.tsx"],m="/(app)/reporting/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(app)/reporting/page",pathname:"/reporting",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6615:(e,t,a)=>{Promise.resolve().then(a.bind(a,8281))},5696:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},9256:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},7206:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])},8281:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var r=a(326);a(6228);var s=a(3819),l=a(1050),i=a(2237),n=a(9914),o=a(2580),d=a(7525),c=a(5047),m=a(7577),p=a(9256),u=a(5696),x=a(7206);let h=(0,a(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var f=a(7358),y=a(4019),g=a(5290),b=a(1223),v=a(1190),j=a(1664),N=a(1027),w=a(3194),k=a(4794),D=a(2631);let S=[{key:"deliveryDate",label:"Delivery Date",minWidth:"0.03125px",sortable:!0},{key:"client",label:"Client",minWidth:"0.0234375px",sortable:!0},{key:"commercialDescription",label:"Commercial Desc.",minWidth:"0.0546875px",sortable:!0,truncated:!0,maxWidth:"0.0546875px"},{key:"clockNumberMediaName",label:"Clock Nr/Media Name",minWidth:"0.0390625px",sortable:!0},{key:"destination",label:"Distributor",minWidth:"0.0234375px",sortable:!0},{key:"agency",label:"Agency",minWidth:"0.0234375px",sortable:!0},{key:"services",label:"Services",minWidth:"0.046875px",sortable:!1,truncated:!0,maxWidth:"0.046875px"},{key:"rate",label:"Rate (\xa3)",minWidth:"0.0234375px",sortable:!0,align:"center"},{key:"orderNumber",label:"Order No.",minWidth:"0.03125px",sortable:!0,align:"center"},{key:"poReference",label:"PO No.",minWidth:"0.0234375px",sortable:!0,align:"center"},{key:"extcosts",label:"Ext. Costs (\xa3)",minWidth:"0.0234375px",sortable:!0,align:"center"},{key:"creator",label:"Creator",minWidth:"0.0234375px",sortable:!0,align:"center"},{key:"checker",label:"Checker",minWidth:"0.0234375px",sortable:!0,align:"center"}];function _(){let e=(0,c.useRouter)(),t=(0,c.useSearchParams)(),[a,_]=(0,m.useState)([]),[C,A]=(0,m.useState)(!0),[P,R]=(0,m.useState)(t.get("searchQuery")||""),[M,W]=(0,m.useState)(null),[Z,E]=(0,m.useState)(null),q=(0,m.useMemo)(()=>t.get("sortBy"),[t]),z=(0,m.useMemo)(()=>t.get("sortDirection"),[t]),U=(0,m.useMemo)(()=>t.get("searchQuery")||"",[t]),$=(0,m.useMemo)(()=>t.get("deliveryStartDate"),[t]),L=(0,m.useMemo)(()=>t.get("deliveryEndDate"),[t]),T=(0,m.useCallback)(a=>{let r=new URLSearchParams(t.toString());q===a?"asc"===z?r.set("sortDirection","desc"):(r.delete("sortBy"),r.delete("sortDirection")):(r.set("sortBy",a),r.set("sortDirection","asc")),e.push(`/reporting?${r.toString()}`,{scroll:!1})},[e,t,q,z]),I=(0,m.useCallback)(()=>{let a=new URLSearchParams(t.toString());P.trim()?a.set("searchQuery",P.trim()):a.delete("searchQuery"),a.delete("page"),e.push(`/reporting?${a.toString()}`,{scroll:!1})},[e,t,P]),O=(0,m.useCallback)((a,r)=>{let s=new URLSearchParams(t.toString()),i="start"===r?"deliveryStartDate":"deliveryEndDate";a?("start"===r&&W(a),"end"===r&&E(a),s.set(i,(0,l.Z)(a,"yyyy-MM-dd"))):("start"===r&&W(null),"end"===r&&E(null),s.delete(i)),e.push(`/reporting?${s.toString()}`,{scroll:!1})},[e,t]),B=(0,m.useCallback)(()=>{W(null),E(null);let a=new URLSearchParams(t.toString());a.delete("deliveryStartDate"),a.delete("deliveryEndDate"),e.push(`/reporting?${a.toString()}`,{scroll:!1})},[e,t]),G=e=>q===e?"asc"===z?r.jsx(p.Z,{className:"ml-1 h-3 w-3"}):r.jsx(u.Z,{className:"ml-1 h-3 w-3"}):r.jsx(x.Z,{className:"ml-1 h-3 w-3 opacity-30"}),F=(e,t=!1)=>{if(!e)return"N/A";try{let a=(0,i.Z)(e);if(!(0,n.Z)(a))return"Invalid Date";return(0,l.Z)(a,t?"yyyy-MM-dd HH:mm:ss":"dd/MM/yy")}catch(t){return console.error("Error formatting date:",e,t),"Invalid Date"}},H=e=>e&&0!==e.length?e.map(e=>e.customName||e.name).join(", "):"N/A",J=e=>e&&0!==e.length?e.map(e=>{let t=e.customName||e.name;return e.subService&&(t+=` (${e.subService})`),e.notes&&(t+=`: ${e.notes}`),t}).join("; "):"N/A",Q=e=>null==e?"N/A":e?"Yes":"No",V=e=>{if(null==e)return"";let t=String(e);return(t.includes('"')||t.includes(",")||t.includes("\n")||t.includes("\r"))&&(t=`"${t.replace(/"/g,'""')}"`),t},Y=(0,m.useCallback)(()=>{if(0===a.length){alert("No data to export.");return}let e=S.map(e=>V(e.label)).join(","),t=a.map(e=>S.map(t=>{let a;return(a="services"===t.key?J(e.services):e[t.key],["deliveryDate","createdAt","updatedAt"].includes(t.key))?V(F(a,!0)):["onHold","inSAP","priority"].includes(t.key)?V(Q(a)):V(a)}).join(",")).join("\n"),r=new Blob([`${e}
${t}`],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(void 0!==s.download){let e=URL.createObjectURL(r);s.setAttribute("href",e),s.setAttribute("download",`job_report_${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(e)}},[a,F]);return(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("div",{className:"flex flex-col gap-2 mb-4",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-end gap-x-4 gap-y-2",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-end gap-2",children:[r.jsx(v.I,{id:"searchInput",name:"searchInput",type:"search",placeholder:"Search all fields...",value:P,onChange:e=>{R(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&I()},className:"h-6 px-2 md:w-[200px] lg:w-[250px] text-xs",autoComplete:"off"}),(0,r.jsxs)(j.z,{onClick:I,size:"sm",variant:"default",className:"h-6 px-2 text-xs",children:[r.jsx(h,{className:"h-3 w-3 mr-1"}),"Search"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx(k._,{htmlFor:"startDate",className:"text-xs",children:"Delivery Start Date"}),(0,r.jsxs)(N.J2,{children:[r.jsx(N.xo,{asChild:!0,children:(0,r.jsxs)(j.z,{id:"startDate",variant:"outline",className:(0,b.cn)("w-[180px] justify-start text-left font-normal h-6 px-2 text-xs",!M&&"text-muted-foreground"),children:[r.jsx(f.Z,{className:"mr-2 h-3 w-3"}),M?(0,l.Z)(M,"MMM dd, yyyy"):r.jsx("span",{children:"Pick a date"})]})}),r.jsx(N.yk,{className:"w-auto p-0",children:r.jsx(w.f,{mode:"single",selected:M??void 0,onSelect:e=>O(e,"start"),initialFocus:!0})})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx(k._,{htmlFor:"endDate",className:"text-xs",children:"Delivery End Date"}),(0,r.jsxs)(N.J2,{children:[r.jsx(N.xo,{asChild:!0,children:(0,r.jsxs)(j.z,{id:"endDate",variant:"outline",className:(0,b.cn)("w-[180px] justify-start text-left font-normal h-6 px-2 text-xs",!Z&&"text-muted-foreground"),children:[r.jsx(f.Z,{className:"mr-2 h-3 w-3"}),Z?(0,l.Z)(Z,"MMM dd, yyyy"):r.jsx("span",{children:"Pick a date"})]})}),r.jsx(N.yk,{className:"w-auto p-0",children:r.jsx(w.f,{mode:"single",selected:Z??void 0,onSelect:e=>O(e,"end"),disabled:e=>!!M&&(0,o.Z)(e,M),initialFocus:!0})})]})]}),(M||Z)&&(0,r.jsxs)(j.z,{onClick:B,size:"sm",variant:"ghost",className:"h-6 px-1",children:[r.jsx(y.Z,{className:"h-3 w-3 mr-1"})," Clear Dates"]}),r.jsx(j.z,{onClick:Y,size:"sm",variant:"default",disabled:C||0===a.length,className:"h-6 px-2 text-xs",children:"Export"})]})}),C?(0,r.jsxs)("div",{className:"w-full py-8 flex items-center justify-center",children:[r.jsx(g.Z,{className:"h-8 w-8 animate-spin text-primary"}),r.jsx("span",{className:"ml-2",children:"Loading report data..."})]}):0===a.length?r.jsx("p",{className:"text-muted-foreground",children:U||$||L?"No jobs found matching the criteria.":"No jobs found to report."}):r.jsx(D.pn,{children:(0,r.jsxs)(d.x,{className:"w-full rounded-md border bg-card shadow whitespace-nowrap",children:[(0,r.jsxs)(s.iA,{children:[r.jsx(s.xD,{children:r.jsx(s.SC,{children:S.map(e=>r.jsx(s.ss,{className:(0,b.cn)("cursor-pointer hover:bg-muted/50 py-1 h-8 text-xs",e.minWidth&&`min-w-[${e.minWidth}]`,!e.sortable&&"cursor-default hover:bg-transparent","right"===e.align&&"text-right","center"===e.align&&"text-center"),onClick:()=>e.sortable&&T(e.key),children:(0,r.jsxs)("div",{className:(0,b.cn)("flex items-center","right"===e.align&&"justify-end","center"===e.align&&"justify-center"),children:[e.label,e.sortable&&G(e.key)]})},e.key))})}),r.jsx(s.RM,{children:a.map(e=>r.jsx(s.SC,{children:S.map(t=>r.jsx(s.pj,{className:(0,b.cn)("font-medium py-1 text-xs","right"===t.align&&"text-right","center"===t.align&&"text-center"),children:(()=>{if("services"===t.key){let a=e[t.key],s=H(a),l=J(a);return(0,r.jsxs)(D.u,{children:[r.jsx(D.aJ,{asChild:!0,children:r.jsx("div",{className:(0,b.cn)("truncate",t.maxWidth&&`max-w-[${t.maxWidth}]`),children:s})}),r.jsx(D._v,{children:r.jsx("p",{children:l})})]})}let a=e[t.key];return"deliveryDate"===t.key?F(a):"inSAP"===t.key?Q(a):t.truncated?r.jsx("div",{className:(0,b.cn)("truncate",t.maxWidth&&`max-w-[${t.maxWidth}]`),title:a||void 0,children:a||"N/A"}):String(null==a?"N/A":a)})()},`${e.id}-${t.key}`))},e.id))})]}),r.jsx(d.B,{orientation:"horizontal"})]})})]})}},3194:(e,t,a)=>{"use strict";a.d(t,{f:()=>d});var r=a(326);a(7577);var s=a(1890),l=a(9183),i=a(6035),n=a(1223),o=a(1664);function d({className:e,classNames:t,showOutsideDays:a=!0,...d}){return r.jsx(i._,{showOutsideDays:a,className:(0,n.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,n.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,n.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:e,...t})=>r.jsx(s.Z,{className:(0,n.cn)("h-4 w-4",e),...t}),IconRight:({className:e,...t})=>r.jsx(l.Z,{className:(0,n.cn)("h-4 w-4",e),...t})},...d})}d.displayName="Calendar"},4794:(e,t,a)=>{"use strict";a.d(t,{_:()=>d});var r=a(326),s=a(7577),l=a(9152),i=a(9360),n=a(1223);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...t},a)=>r.jsx(l.f,{ref:a,className:(0,n.cn)(o(),e),...t}));d.displayName=l.f.displayName},1027:(e,t,a)=>{"use strict";a.d(t,{J2:()=>n,xo:()=>o,yk:()=>d});var r=a(326),s=a(7577),l=a(2187),i=a(1223);let n=l.fC,o=l.xz,d=s.forwardRef(({className:e,align:t="center",sideOffset:a=4,...s},n)=>r.jsx(l.h_,{children:r.jsx(l.VY,{ref:n,align:t,sideOffset:a,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));d.displayName=l.VY.displayName},7525:(e,t,a)=>{"use strict";a.d(t,{B:()=>o,x:()=>n});var r=a(326),s=a(7577),l=a(2836),i=a(1223);let n=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(l.fC,{ref:s,className:(0,i.cn)("relative overflow-hidden",e),...a,children:[r.jsx(l.l_,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(o,{}),r.jsx(l.Ns,{})]}));n.displayName=l.fC.displayName;let o=s.forwardRef(({className:e,orientation:t="vertical",...a},s)=>r.jsx(l.gb,{ref:s,orientation:t,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...a,children:r.jsx(l.q4,{className:"relative flex-1 rounded-full bg-border"})}));o.displayName=l.gb.displayName},3819:(e,t,a)=>{"use strict";a.d(t,{RM:()=>o,SC:()=>d,iA:()=>i,pj:()=>m,ss:()=>c,xD:()=>n});var r=a(326),s=a(7577),l=a(1223);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));i.displayName="Table";let n=s.forwardRef(({className:e,...t},a)=>r.jsx("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...t}));n.displayName="TableHeader";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));o.displayName="TableBody",s.forwardRef(({className:e,...t},a)=>r.jsx("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let m=s.forwardRef(({className:e,...t},a)=>r.jsx("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));m.displayName="TableCell",s.forwardRef(({className:e,...t},a)=>r.jsx("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},7427:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Users\micha\Desktop\DevEnv\AccessAWS\src\app\(app)\reporting\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,377,537,971,730,424,220,656,26,717],()=>a(9216));module.exports=r})();